# 库







## tween

- `TWEEN.update(时间)`这个方法就算传入准确的时间差会延迟开始（时间差是指当前时间到第一次调用`update`之间的时间差）  

  延迟时间不定  

  而且在性能极限情况下会出现数值闪动  

  彗星组件中一个实例超过两个彗星也会无法开始

- 在从一个`TWEEN.Tween`实例到另一个实例的那一帧  

  会按顺序执行两个实例的`onUpdate`  

- 多次调用  

  - `to`  

    `onUpdate`不会重叠执行  

    在没有`stop`的情况下会时间跳跃（解决方案：同一帧内`stop`后`to`后`start`）  

  - `start`  

    `onUpdate`会重叠执行

- “TWEEN.Tween实例”的`stop`  

  会按顺序触发其`chain`链上的`onStop` （https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js）

- 一个“TWEEN.Tween实例”的`onComplete`里无法调用自己的`start`bug  （17.3.5的"src/Tween.js"会）（https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js的不会）

  允许调用的方法：将`start`放进`setTimeout 0`内

- 获取正在运行的tween实例

  `TWEEN.getAll()`

  返回一个数组

- 回调没有队列

  已测试：`onComplete`



## jsdoc

可以插入md也可以插入html，不过对md的实现并不理想，html（含css）在各个地方都能正确生效

- **序号后无空行bug**  

  在序号后加一行空行并加一行`<i></i>`即可

- **一个页面插入两个部分**  
  可能有效的操作方法：  
  用两个文件来写同一个类，一个文件会在页面上方，而另一个在下方
  
- **css**  
  可以在`@description`里写插入style标签，里面的内容会辐射整个页面



## 思极地图

- **Marker**  
  - 如果`offset`写`[]`会导致dom元素固定在左上角（虽然官方文档就是这么写）
  - **显隐**  
    `remove`和`addTo(地图)`  
    对dom的改变在显隐后还会存留  
    在dom隐藏期间也可以对dom进行操作  







# 构建工具







## babel简要使用步骤

1. md node_modules，把node_modules exclude掉【】没看懂
2. npm init -y  
   cnpm install --save-dev babel-cli  
   type nul>.babelrc

## babel

- **.babel文件API**  
  http://babeljs.io/docs/usage/api/#options

- **babel-cli的API**  
  https://babeljs.io/docs/usage/cli/

- **记录**  

  - 一次使用babel+webpack中发现有变量不声明时，chrome会报错且js无法运行

- **对项目本地安装babel-cli的情况下**
  配置package.json文件的scripts项可以在命令行中运行babel，如配置：  

  ```json
  "scripts": {
    "a": "babel src -d li1b" 
  }
  ```

  运行该命令`npm run a`的时候就会在命令行执行`babel src -d li1b`  
  效果等同于（全局安装babel-cli后）直接运行babel src -d li1b

- **支持指定部分浏览器的例子**  

  ```javascript
  {
  "presets": [[
  	"env",
  	{
  		"targets": {//这个targets也可以用npm包browserslist来代替
  			"browsers": ["last 2 versions", "ie >= 9"]//该行使用browserslist语法
  			//该语法详见https://github.com/ai/browserslist#queries
  		},
  		"modules": false /* ,
  		"loose": true //为此预设中的任何允许它们的插件启用“宽松”转换（默认情况下禁用）。【没用过】
  		*/
  	}
  ]],
  "plugins": ["transform-object-rest-spread"]//支持“对象扩展符”的插件
  }
  ```

- **babel-polyfill**  
  （详见：https://www.jianshu.com/p/3b27dfc6785c）  
  babel虽然转译ES语法，但是ES除了语法还有API（或者叫全局对象、或者叫built-ins）  
  要想转译这些API则需要babel-polyfill（或者babel-runtime&babel-plugin-tranform-runtime，不过一般不选择这个方案）  
  使用方法：  

  1. 本地--save安装（官方说明要--save而不是--save-dev）
  2. webpack的module.exports中的entry写为['babel-polyfill','./src/main.js']  
     （不用webpack的话也有其他使用方法）

## css自动兼容处理=autoprefixer

要用autoprefixer先要装另外3个npm包：  

- postcss
- postcss-loader
- browserslist

装好后还要进行配置：  

1. 新建文件“postcss.config.js”，文件里写：

   ```javascript
   module.exports = {
      plugins: [
   	   require('autoprefixer')
      ]
   }
   ```

2. 修改“webpack.config.js”

   1. 顶端var部分末尾加上
      `var autoprefixer = require('autoprefixer');`
   2. module.exports的module的rules的“less”子项和“css”子项的use子项或loader子项最末尾加上"postcss-loader"

3. 在package.json中配置browserslist,例子如下：

   ```json
   {
     "name": "inputprojectnamehere",
   
     ...
   
     "dependencies": {
       ...
     },
     "devDependencies": {
       ...
     },
     "browserslist": [
       "last 2 versions",
       "ie >= 9"
     ]
   }
   ```







# 其他







## UAP

- 找工作空间地址
  MAIN/WebContent/WEB-INF/configuration/policy.cml里点module-repository
- 引入检出后的模块，也是点上面的东西，加上module，然后module里写上模块名
- Apache Tomcat v6.0（不知道哪开的）  => Open launch configuration => Arguments => VM arguments末尾加一行`-Xms1024M -Xmx1024M -XX:PermSize=256M -XX:MaxNewSize=256M -XX:MaxPermSize=256M`



## webstorm

- 用npm在项目中本地安装babel之类文件数量比较多的模块（包）时，要在设置中把node_modules文件夹Excluded（排除）掉，禁止他索引，不然索引时间会非常长
- **更改项目名称**  
  这个方法在2018.3版本上可行
  1. .idea文件夹里有一个“项目名.iml”的文件  
     把这个文件名改成你想要的项目名称
  2. 打开.idea文件夹里的“modules.xml”文件  
     将“原项目名.iml”字样都替换成“想要的项目名.iml”



## cmd
- **`cd`**  
  功能：在当前盘下更改路径  
  支持绝对路径和相对路径  
  盘符开头的路径会被认为是绝对路径，反之为相对路径  
- 绝对路径中盘符写法示例：  
  `C:/`
- 开启软件的示例：  
  `start "绝对地址"`  
  （开ie时路径写到文件夹和写到exe的效果一致）  
- **开启浏览器**  
  除了上方内容外还要写：  
  ` 网址`
- 进入状态后，可连按两次ctrl+c来退出当前状态
- **放弃当前行，开启新的一行**  
  ctrl+c



## PowerShell

- **复制/黏贴**  
  都是鼠标右键
- **快速输入地址**  
  直接拖入文件或者文件夹  
  配合`cd`命令还可以快速切换地址
- **`cd`**  
  支持跨盘切换路径



## svn

- **把版本库里的代码下下来**  
  鼠标右键后点“SVN Checkout”

提交commit、更新update

- **忽略文件或文件夹**  
  
  1. 在要忽略的目标上右键
  2. 点“TortoiseSVN”
  3. 点“Unversion and add to ignore list”
  
- **新建版本库**  
  右键后点“TortoiseSVN”再点“create repository here”  
  然后就算啥都不点版本库也会创建好  
  右键文件夹或者进文件夹后右键效果是一样的
  
- **处理冲突**  
  
  1. 在要忽略的目标上右键
  2. 点“TortoiseSVN”
  3. 点“Edit conflicts”
  
  哪边是哪个版本或者本地版本并不清楚  
  似乎也没办法冲突的两个版本代码块都保留  
  很多时候还是要手敲
  
- **失败经历——1️⃣**  
  Checkout后弹窗“Certificate validation failed”，然后无限要求输入帐号，不管输啥帐号都会继续要求  
  实际情况是服务端的问题，服务端配置后即可正常使用



## vpn

- 可以打开host文件屏蔽的网站




# 程序设计
- 不返回数组的话用forEach而不用map，避免对阅读者的误导
- data这种数据就算一开始没有值（或者其后代属性不存在等）
  只要后面有用到的一开始就要写上，赋值为空也可以
- if else这种不要省括号
- 不要过度封装
- 为了在一个文件里能找到尽可能多的相关代码，其他设计可以做一些牺牲

**函数参数设计**

- 在参数少的时候可能不用配置项是更合适的  
  用配置项的话一定要仔细斟酌属性名，不然改属性名的话比较麻烦







### 类的开发方案

源自为鑫

- 类的单个方法传参不要过多，过多时拆成多个方法，方法过多时拆成多个类。
- 削减类的代码量的方法：
  1. 使用纯函数拆分
  2. 使用工具类拆分






# 调试技巧
- 就算程序能正常运行也要关注报错信息，至少留个印象
- 两次测试间跨步不要太大
- 排错尽量往 自己可掌控部分 思考
- 去编译后代码里调试基本没结果（尤其是three和whs部分）
- 尽量不要去依赖的源码里排错（尤其是three和whs部分）
- 对于深层报错（如用whs报webGL或runtime错误）尽量放弃调试，从代码本身找问题



# 重构

重构别人代码的难点

- 一般要重构的代码质量都比较差
- 要花时间阅读
- 重构代码结构难调整
- 最终出来的结构不理想，未来难阅读  
  尤其是复杂代码，没有结构说明极难阅读



# 状态机

全称是有限状态自动机  
是一个数学模型  
给定一个状态机，同时给定它的当前状态以及输入，那么输出状态是可以明确的运算出来的

### 四大概念

- State ，状态  
  一个状态机至少要包含两个状态。例如上面自动门的例子，有 open 和 closed 两个状态。

- Event ，事件  
  事件就是执行某个操作的触发条件或者口令。对于自动门，“按下开门按钮”就是一个事件。

- Action ，动作  
  事件发生以后要执行动作。例如事件是“按开门按钮”，动作是“开门”。编程的时候，一个 Action 一般就对应一个函数。

- Transition ，变换  
  也就是从一个状态变化为另一个状态。例如“开门过程”就是一个变换。




# 其他
- 自己要做code-review